function customizeSave(e,o){console.log("customize: save"),console.log("customize: "+e),console.log("customize: "+o);var t=new FormData;if(t.append("customize","save"),t.append("ticket",e),document.getElementsByClassName)for(var i=document.getElementsByClassName("editable"),s=0;s<i.length;s++)t.append(i[s].id,i[s].innerHTML);return console.log('customize: request("'+o+'")'),JLoader.request(o,{data:t,success:function(e){console.log("customize: "+e),customizeStop()},error:function(e){console.log("customize: error")}}),!1}function customizeStop(){location.reload(!0)}function customizeStart(e,o){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("editable"),i=0;i<t.length;i++)t[i].contentEditable="true";CKEDITOR.inlineAll(),CKEDITOR.config.filebrowserImageBrowseUrl="/?act=customizeUpload";var s='<div id="grup2"><a href="javascript:void(0);" title="Сохранить правки" onclick="customizeSave(\''+e+"', '"+o+'\');"><img src="/modules/customize/save.svg"></a><a href="javascript:void(0);" title="Выключить редактирование" onclick="customizeStop()"><img src="/modules/customize/close.svg"></a></div>';return customize.innerHTML=s,!1}function customizeInit(e,o){var t=document.createElement("div");document.body.appendChild(t),t.id="customize";var i='<div id="grup1"><a href="javascript:void(0);" title="Включить редактирование" onclick="customizeStart(\''+e+"', '"+o+'\')"><img src="/modules/customize/edit.svg"></a></div>';t.innerHTML=i}